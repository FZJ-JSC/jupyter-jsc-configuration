{
  "drf-services": {
    "unicoremgr": {
      "send_access_token": true,
      "request_timeout": 10,
      "certificate_path": "/mnt/unicoremgr_certs/..data/ca.pem",
      "urls": {
        "services": "https://drf-unicoremgr.jupyterjsc.svc/api/services/",
        "logs": "https://drf-unicoremgr.jupyterjsc.svc/api/logs/handler/"
      }
    },
    "k8smgrhdfcloud": {
      "request_timeout": 10,
      "certificate_path": "/mnt/k8smgr_certs/..data/ca.pem",
      "urls": {
        "services": "https://drf-k8smgr.jupyterjsc.svc/api/services/",
        "logs": "https://drf-k8smgr.jupyterjsc.svc/api/logs/handler/"
      }
    },
    "tunnel": {
      "authentication_token": "",
      "request_timeout": 10,
      "certificate_path": "/mnt/tunnel_certs/..data/ca.pem",
      "urls": {
        "tunnel": "https://drf-tunnel.jupyterjsc.svc/api/tunnel/",
        "restart": "https://drf-tunnel.jupyterjsc.svc/api/restart/",
        "logs": "https://drf-tunnel.jupyterjsc.svc/api/logs/handler/"
      }
    }
  },
  "unity": {
    "revoke": {
      "url": "https://unity-jsc.fz-juelich.de/jupyter-oauth2/revoke",
      "certificate_path": "/mnt/unity_certs/..data/tls.crt",
      "request_timeout": 10,
      "client_id": "jupyter-jsc.fz-juelich.de",
      "expected_status_code": 200
    }
  },
  "vos": {
    "default": {
      "authenticators": [
        "ldap"
      ],
      "usernames": [],
      "admin": false,
      "weight": 1,
      "Systems": {},
      "Services": {
        "JupyterLab": {
          "JupyterLab": {
            "max_per_user": 10
          },
          "AiidaLab": {
            "max_per_user": 2
          }
        }
      },
      "description": "Default group"
    },
    "admin": {
      "authenticators": [],
      "usernames": [
        "t.kreuzer@fz-juelich.de"
      ],
      "admin": true,
      "weight": 2,
      "Systems": {},
      "Services": {
        "JupyterLab": {
          "JupyterLab": {
            "max_per_user": 5
          },
          "AiidaLab": {
            "max_per_user": 2
          }
        }
      },
      "description": "Admin group"
    }
  },
  "services": {
    "JupyterLab": {
      "options_name": "Version",
      "options": {
        "JupyterLab": {
          "name": "K8s Test JupyterLab",
          "vo_mapping": {
            "admins": "default"
          },
          "allowed_lists": {
            "systems": [
              "DEEP",
              "JUWELS",
              "JURECA",
              "JUSUF",
              "HDFML",
              "HDF-Cloud"
            ]
          }
        },        
        "AiidaLab": {
          "name": "AiidaLab - 21.07.1",
          "vo_mapping": {
            "admins": "default"
          },
          "allowed_lists": {
            "systems": [
              "HDF-Cloud"
            ]
          }
        }
      }
    }
  },
  "systems": {
    "JUWELS": {
      "interactive_partitions": [
        "LoginNode", "LoginNodeBooster", "LoginNodeVis"
      ],
      "weight": 1,
      "drf-service": "unicoremgr"
    },
    "JURECA": {
      "interactive_partitions": [
        "LoginNode"
      ],
      "weight": 2,
      "drf-service": "unicoremgr"
    },
    "JUSUF": {
      "interactive_partitions": [
        "LoginNode"
      ],
      "weight": 3,
      "drf-service": "unicoremgr"
    },
    "HDFML": {
      "interactive_partitions": [
        "LoginNode"
      ],
      "weight": 4,
      "drf-service": "unicoremgr"
    },
    "DEEP": {
      "interactive_partitions": [
        "LoginNode"
      ],
      "weight": 5,
      "drf-service": "unicoremgr"
    },
    "HDF-Cloud": {
      "drf-service": "k8smgrhdfcloud"
    }
  },
  "resources": {
    "JURECA": {
      "LoginNode": {},
      "dc-cpu": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            64
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "dc-cpu-bigmem": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            48
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "dc-cpu-devel": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            4
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            120
          ]
        }
      },
      "dc-gpu": {
        "GPUS": {
          "default": 4,
          "divisor": 1,
          "minmax": [
            1,
            4
          ]
        },
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            24
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "dc-gpu-devel": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            512
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "inactive-booster-devel": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            8
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            360
          ]
        }
      },
      "inactive-booster": {
        "GPUS": {
          "default": 4,
          "divisor": 1,
          "minmax": [
            1,
            4
          ]
        },
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            46
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "mem192": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            64
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      }
    },
    "JUWELS": {
      "LoginNode": {},
      "LoginNodeVis": {},
      "LoginNodeBooster": {},
      "batch": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            1024
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "booster": {
        "GPUS": {
          "default": 4,
          "divisor": 1,
          "minmax": [
            1,
            4
          ]
        },
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            384
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "devel": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            8
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            120
          ]
        }
      },
      "develbooster": {
        "GPUS": {
          "default": 4,
          "divisor": 1,
          "minmax": [
            1,
            4
          ]
        },
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            4
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            120
          ]
        }
      },
      "develgpus": {
        "GPUS": {
          "default": 4,
          "divisor": 1,
          "minmax": [
            1,
            4
          ]
        },
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            2
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            120
          ]
        }
      },
      "gpus": {
        "GPUS": {
          "default": 4,
          "divisor": 1,
          "minmax": [
            1,
            4
          ]
        },
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            46
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "mem192": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            64
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      }
    },
    "JUSUF": {
      "LoginNode": {},
      "batch": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            1024
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "develgpus": {
        "GPUS": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            1
          ]
        },
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            2
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "gpus": {
        "GPUS": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            1
          ]
        },
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            46
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      }
    },
    "HDFML": {
      "LoginNode": {},
      "batch": {
        "nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            15
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      }
    },
    "DEEP": {
      "LoginNode": {},
      "dp-cn": {
        "Nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            50
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "dp-dam": {
        "Nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            56
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "dp-esb": {
        "Nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            75
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      },
      "ml-gpu": {
        "Nodes": {
          "default": 1,
          "divisor": 1,
          "minmax": [
            1,
            3
          ]
        },
        "runtime": {
          "default": 30,
          "divisor": 60,
          "minmax": [
            10,
            1440
          ]
        }
      }
    }
  },
  "map_systems": {
    "jureca_booster": "JURECA",
    "jureca-dc_cpu": "JURECA",
    "jureca-dc_cpu-bigmem": "JURECA",
    "jureca-dc_cpu-devel": "JURECA",
    "jureca-dc_gpu": "JURECA",
    "jureca-dc_gpu-devel": "JURECA",
    "juwels": "JUWELS",
    "juwels_devel": "JUWELS",
    "juwels_develgpus": "JUWELS",
    "juwels_booster": "JUWELS",
    "juwels_develbooster": "JUWELS",
    "juwels_gpus": "JUWELS",
    "jusuf": "JUSUF",
    "jusuf_cpu": "JUSUF",
    "jusuf_gpus": "JUSUF",
    "jusuf_develgpus": "JUSUF",
    "hdfml": "HDFML",
    "deep_dam": "DEEP",
    "deep_cpu": "DEEP",
    "deep_ml-gpu": "DEEP",
    "deep_booster": "DEEP",
    "judac": "JUDAC"
  },
  "map_partitions": {
    "jureca_booster": "booster",
    "jureca-dc_cpu": "dc-cpu",
    "jureca-dc_cpu-bigmem": "dc-cpu-bigmem",
    "jureca-dc_cpu-devel": "dc-cpu-devel",
    "jureca-dc_gpu": "dc-gpu",
    "jureca-dc_gpu-devel": "dc-gpu-devel",
    "juwels": "batch",
    "juwels_devel": "devel",
    "juwels_develgpus": "develgpus",
    "juwels_booster": "booster",
    "juwels_develbooster": "develbooster",
    "juwels_gpus": "gpus",
    "jusuf": "batch",
    "jusuf_cpu": "batch",
    "jusuf_gpus": "gpus",
    "jusuf_develgpus": "develgpus",
    "hdfml": "batch",
    "deep_dam": "dp-dam",
    "deep_cpu": "dp-cn",
    "deep_booster": "dp-esb",
    "deep_ml-gpu": "ml-gpu",
    "judac": "judac"
  },
  "map_user_options": {},
  "default_partitions": {
    "juwels": [
      "juwels_devel"
    ],
    "juwels_booster": [
      "juwels_develbooster"
    ],
    "juwels_gpus": [
      "juwels_develgpus"
    ],
    "jusuf_gpus": [
      "jusuf_develgpus"
    ],
    "deep_cpu": [
      "deep_ml-gpu"
    ],
    "jureca-dc_cpu": [
      "jureca-dc_cpu-bigmem",
      "jureca-dc_cpu-devel"
    ],
    "jureca-dc_gpu": [
      "jureca-dc_gpu-devel"
    ]
  },
  "selfapihandler": {
    "allowed_auth_state_keys": ["access_token", "exp", "last_login", "vo_active", "vo_available", "used_authenticator_attr", "username_attr"]
  },
  "maintenance-check": {
    "interval": 60,
    "health_threshold": 40,
    "url": "https://status.jsc.fz-juelich.de/api",
    "services": {
      "JUWELS": "13",
      "JURECA": "1",
      "JUSUF": "30",
      "HDFML": "21"
    },
    "logger_name": "MaintenanceCheck",
    "logger": {
      "stream": {
        "formatter": "simple",
        "level": 10,
        "stream": "ext://sys.stdout"
      }
    }
  },
  "reservation-check": {
    "interval": 300,
    "systems": {
      "JURECA": {
        "host": "jureca.fz-juelich.de"
      },
      "JUWELS": {
        "host": "juwels.fz-juelich.de"
      },
      "JUSUF": {
        "host": "jusuf.fz-juelich.de"
      },
      "HDFML": {
        "host": "hdfml.fz-juelich.de"
      },
      "DEEP": {
        "host": "deep.fz-juelich.de"
      }
    }
  }
}
